<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>NET_DEV_SetExceptionCallback</title>

<link href="../style.css" rel="stylesheet" type="text/css">
</head>

<body topmargin="0">

<table class="buttonbarshade" cellspacing="0">
	<tr>
		<td>&nbsp;</td>
	</tr>
</table>
<table class="buttonbartable" cellspacing="0">
	<tr id="hdr">
		<td class="runninghead" nowrap>杰迈视讯SDK开发使用手册</td>
	</tr>
</table>

<h1>NET_DEV_SetExceptionCallback</h1>
<p>设置异常消息回调处理。</p>

<PRE class=syntax><b>OS_INT32 NET_DEV_SetExceptionCallback(</b>
<b>    EXCP_INFO_CBF</b><i>               fExceptionCallback,</i><b></b>
<b>    void</b><i>                      * pUser</i><b></b>
<b>);</b></PRE>

<h4>Parameters</h4>
<dl>
<dt><i>fRealDataCallBack</i></dt>
<dd>[in] 异常消息回调函数</dd>

<dt><i>pUser</i></dt>
<dd>[in] 用户数据</dd>
</dl>

<h4>Callback Function</h4>
<PRE class=syntax><b>typedef void (SDKCALL *EXCP_INFO_CBF)(</b>
<b>    OS_UINT32</b><i>              dwType,</i><b></b>
<b>    OS_INT32</b><i>               lUserID,</i><b></b>
<b>    OS_UINT32</b><i>            * lHandle,</i><b></b>
<b>    OS_VOIDPTR</b><i>             pUser</i><b></b>
<b>);</b></PRE>

<h4>Callback Function Parameters</h4>
<dl>
<dt><i>dwType</i></dt>
<dd>[out] 异常类型，见下表</dd>
<table>
<tr valign=top>
<th align=left><b>宏定义</b></th>
<th align=left>值</th>
<th align=left>含义</th>
</tr>

<tr valign=top>
<td><b>EXCP_HEARTBEAT_FAIL</b></td>
<td>0x0001</td>
<td>用户交互时异常</td>
</tr>

<tr valign=top>
<td><b>EXCP_HEARTBEAT_RESUME</b></td>
<td>0x0002</td>
<td>用户交互恢复</td>
</tr>

<tr valign=top>
<td><b>EXCP_VOICE_TALK</b></td>
<td>0x0003</td>
<td>语音对讲异常</td>
</tr>

<tr valign=top>
<td><b>EXCP_ALARMCHAN_FAIL</b></td>
<td>0x0004</td>
<td>报警异常</td>
</tr>

<tr valign=top>
<td><b>EXCP_REALPLAY_FAIL</b></td>
<td>0x0005</td>
<td>预览异常</td>
</tr>

<tr valign=top>
<td><b>EXCP_REALPLAY_RECONNECT</b></td>
<td>0x0006</td>
<td>预览时重连</td>
</tr>

<tr valign=top>
<td><b>EXCP_ALARMCHAN_RECONNECT</b></td>
<td>0x0007</td>
<td>报警时重连</td>
</tr>

<tr valign=top>
<td><b>EXCP_PLAYBACK_FAIL</b></td>
<td>0x0008</td>
<td>回放异常</td>
</tr>

<tr valign=top>
<td><b>EXCP_REALPLAY_RESUME</b></td>
<td>0x0009</td>
<td>预览时重连成功</td>
</tr>

<tr valign=top>
<td><b>EXCP_ALARMCHAN_RESUME</b></td>
<td>0x0010</td>
<td>报警时重连成功</td>
</tr>

</table>
<dt><i>dwDataType</i></dt>
<dd>[out] lUserID</dd>

<dt><i>lUserID</i></dt>
<dd>[out] 用户注册ID</dd>

<dt><i>lHandle</i></dt>
<dd>[out] 对应的回放、预览等句柄</dd>

<dt><i>pUser</i></dt>
<dd>[out] 用户自定义指针</dd>
</dl>

<h4>Return Values</h4>
<p>成功返回TRUE，失败返回FALSE。接口返回失败请调用<b><a href="../基本接口/NET_DEV_GetLastError.html">NET_DEV_GetLastError</a></b>获取错误码，通过错误码判断出错原因。</p>

<hr color="#999999"><br>



</body>

</html>



